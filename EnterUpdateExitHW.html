<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <title>Feb 14 Homework</title>
  </head>
  <body>
    <h1 id="title">Most Streamed Artists on Spotify</h1>
    <svg id="Canvas" style= "height: 500px; Width:1000px"> </svg>
    <h3>Enter "drawrect(women)"" in console to see data for Women</h3>
    
    <script>

      // Most streamed artists on Spotify. Value is streams in billions
       var Men= [
            {
                artist:"Drake",
                value: 45,
                color: "cornflowerblue"
            },
            {
              artist: "Ed Sheeran",
              value:34,
              color: "cornflowerblue"

            },
            {
              artist: "Bad Bunny",
              value: 	32,
              color: "cornflowerblue"
            },
            {
              artist: "The Weeknd",
              value: 30,
              color: "cornflowerblue"
            },
            {
              artist: "justin Bieber",
              value: 29,
              color: "cornflowerblue"
            }
            
        ]
        var women=[
        {
              artist: "Ariana Grande",
              value: 30,
              color: "pink"
            },
            {
              artist: "Taylor Swift",
              value:27,
              color: "pink"
            },
            {
              artist: "Billie Eilish",
              value: 21,
              color: "pink"
            },
            {
              artist: "Dua Lipa",
              value: 19,
              color: "pink"
            },

            {
              artist: "Rihanna",
              value: 19,
              color: "pink"
            }
        ]


        d3.select("#title")
        .attr("class","big")
        .style("color","blue");
    
        // changes in bulk
        d3.selectAll(".big").style("color", "Black");

function drawrect(dataArray){

// data binding
var rectangles= d3.select("#Canvas")
.selectAll("rect")
.data(dataArray, function(currentDataPoint) {
    console.log(currentDataPoint);
return currentDataPoint.artist;
});

// update
rectangles
.transition().duration(1000)
.attr("x", 100)
  .attr("y",function(d){
    return d.value *10;})
  .attr("height", 10)
  .attr("width",function(d){
    return d.value*10;
})




// enter
rectangles.enter().append("rect")
.attr("class", "myrect")
.attr("y",function(d, i){
    return i * 30 + 20;})
.attr("x", 100)
.attr("height", 10)
.transition()
.duration(1000)
.attr("width",function(d){
    return d.value *10;}) 


.attr("fill", function(d){ return d.color;})




// exit
 rectangles.exit()
.transition()
.duration(1000)
.remove()
.attr("y",function(d, i){
    return i * 30 + 20;})
.attr("width", function(d){
    return d.value *10;})

  
  



};

drawrect(Men);




  

    </script>

  </body>